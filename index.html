<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Stress Test: The Survivor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f1f5f9; transition: background-color 1s ease; }
        .slide-up { animation: slideUp 0.5s ease-out; }
        .shake { animation: shake 0.5s; animation-iteration-count: infinite; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
        
        .crisis-mode { background-color: #1a1a1a; color: #e5e5e5; }
        .crisis-mode .card { background-color: #2d2d2d; border-color: #ef4444; color: white; }
    </style>
</head>
<body id="body-main" class="text-slate-800">

    <nav class="p-4 bg-slate-900 text-white flex justify-between sticky top-0 z-50 shadow-lg">
        <h1 class="font-bold text-yellow-400">üè¢ Prop-Survivor Sim</h1>
        <div class="space-x-4 text-sm font-mono">
            <span>Age: <span id="ui-age">-</span></span>
            <span>Salary: <span id="ui-salary" class="text-green-400">-</span></span>
            <span>Cash: <span id="ui-cash" class="text-green-400 font-bold">0</span></span>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto p-6 min-h-screen">

        <section id="part-1" class="slide-up">
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-lg mx-auto mt-10 text-center">
                <h2 class="text-3xl font-bold mb-2">Part 1: Profile Setup</h2>
                <p class="text-slate-500 mb-6">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ó‡∏∏‡∏ô</p>
                
                <div class="space-y-4 text-left">
                    <div>
                        <label class="block text-sm font-bold mb-1">‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Age)</label>
                        <input type="number" id="input-age" class="w-full border p-2 rounded" value="25">
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-1">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Salary)</label>
                        <select id="input-salary" class="w-full border p-2 rounded">
                            <option value="35000">35,000 (Junior)</option>
                            <option value="85000">85,000 (Manager)</option>
                            <option value="250000">250,000 (Executive)</option>
                        </select>
                    </div>
                    <button onclick="submitPart1()" class="w-full bg-blue-600 text-white py-3 rounded font-bold hover:bg-blue-700 transition">Start Journey</button>
                </div>
            </div>
        </section>

        <section id="part-2" class="hidden slide-up">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold">Part 2: Portfolio Construction</h2>
                <p class="text-slate-500">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏à‡∏≤‡∏Å 4 ‡∏¢‡πà‡∏≤‡∏ô (‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏î‡∏µ)</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-white p-6 rounded-xl shadow border hover:border-blue-500">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold text-xl text-red-600">üìç Zone A: The Hype City</h3>
                        <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded">High Volatility</span>
                    </div>
                    <p class="text-xs text-slate-500 mb-4">‡∏¢‡πà‡∏≤‡∏ô New CBD ‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏∏‡πà‡∏á‡πÅ‡∏£‡∏á (‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏´‡πâ‡∏ß‡∏¢‡∏Ç‡∏ß‡∏≤‡∏á)</p>
                    <div class="space-y-2">
                        <button onclick="buyAsset('A', 1)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>A1: Entry Level (Mass)</span> <span class="font-bold text-blue-600">2.5 MB</span>
                        </button>
                        <button onclick="buyAsset('A', 2)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>A2: Standard Condo</span> <span class="font-bold text-blue-600">4.5 MB</span>
                        </button>
                        <button onclick="buyAsset('A', 3)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>A3: Luxury Prime</span> <span class="font-bold text-blue-600">12.0 MB</span>
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow border hover:border-green-500">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold text-xl text-green-600">üìç Zone B: The Safe Haven</h3>
                        <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded">Defensive</span>
                    </div>
                    <p class="text-xs text-slate-500 mb-4">‡∏¢‡πà‡∏≤‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£/‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (Real Demand ‡∏™‡∏π‡∏á)</p>
                    <div class="space-y-2">
                        <button onclick="buyAsset('B', 1)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>B1: Budget Condo</span> <span class="font-bold text-blue-600">2.0 MB</span>
                        </button>
                        <button onclick="buyAsset('B', 2)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>B2: Family Suite</span> <span class="font-bold text-blue-600">5.0 MB</span>
                        </button>
                        <button onclick="buyAsset('B', 'X')" class="w-full text-left p-2 border rounded bg-yellow-50 border-yellow-200 hover:bg-yellow-100 text-sm flex justify-between">
                            <span>BX: Hidden Gem (Low Rise)</span> <span class="font-bold text-blue-600">3.5 MB</span>
                        </button>
                    </div>
                </div>

                 <div class="bg-white p-6 rounded-xl shadow border hover:border-purple-500 opacity-80">
                    <h3 class="font-bold text-xl text-purple-600 mb-2">üìç Zone C: Old Town</h3>
                    <p class="text-xs text-slate-500 mb-4">‡∏¢‡πà‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ï‡πà‡∏≥‡πÅ‡∏ï‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£</p>
                    <div class="space-y-2">
                        <button onclick="buyAsset('C', 1)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>C1: Vintage Condo</span> <span class="font-bold text-blue-600">3.0 MB</span>
                        </button>
                        <button onclick="buyAsset('C', 2)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>C2: River View</span> <span class="font-bold text-blue-600">6.5 MB</span>
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow border hover:border-gray-500 opacity-80">
                    <h3 class="font-bold text-xl text-gray-600 mb-2">üìç Zone D: Industrial</h3>
                    <p class="text-xs text-slate-500 mb-4">‡∏¢‡πà‡∏≤‡∏ô‡∏ô‡∏¥‡∏Ñ‡∏°‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°</p>
                    <div class="space-y-2">
                        <button onclick="buyAsset('D', 1)" class="w-full text-left p-2 border rounded hover:bg-slate-50 text-sm flex justify-between">
                            <span>D1: Worker Housing</span> <span class="font-bold text-blue-600">1.2 MB</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="bg-slate-100 p-4 rounded-xl border border-slate-300">
                <h4 class="font-bold mb-2">üíº Your Portfolio:</h4>
                <div id="portfolio-list" class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600">
                    </div>
                <div class="mt-6 text-center">
                    <button id="btn-stress-test" onclick="startStressTest()" class="hidden bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-10 rounded-full shadow-xl transform transition hover:scale-105 animate-pulse">
                        üö® INITIATE EXTREME STRESS TEST üö®
                    </button>
                    <p id="msg-buy-more" class="text-xs text-slate-400 mt-2">‡∏ã‡∏∑‡πâ‡∏≠‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° Stress Test</p>
                </div>
            </div>
        </section>

        <section id="part-3" class="hidden slide-up pb-20">
            <div class="text-center mb-10">
                <h1 class="text-5xl font-extrabold text-red-500 mb-2">MARKET CRASHED!</h1>
                <p class="text-xl text-gray-300">Scenario: "The Perfect Storm" (Pandemic + Interest Rate Hike + Debt Crisis)</p>
            </div>

            <div class="grid grid-cols-1 gap-6" id="stress-results">
                </div>

            <div class="mt-12 bg-gray-800 p-6 rounded-xl border border-gray-600">
                <h3 class="text-2xl font-bold text-yellow-400 mb-4">üí° Survivor Analysis</h3>
                <div class="space-y-4 text-gray-300 text-sm font-light">
                    <div class="border-l-4 border-red-500 pl-4">
                        <strong class="text-red-400 text-lg">Zone A (The Hype) - ‡∏ï‡∏≤‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ö:</strong>
                        <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ü‡∏≠‡∏á‡∏™‡∏ö‡∏π‡πà‡πÅ‡∏ï‡∏Å ‡∏¢‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞ "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á" (Speculation) ‡∏à‡∏∞‡∏•‡∏á‡∏´‡∏ô‡∏±‡∏Å‡∏™‡∏∏‡∏î Type 1 (Mass) ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤‡∏ï‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏¥‡πâ‡∏á‡∏´‡πâ‡∏≠‡∏á Type 3 (Luxury) ‡∏£‡∏≠‡∏î‡∏ï‡∏≤‡∏¢‡∏´‡∏ß‡∏∏‡∏î‡∏´‡∏ß‡∏¥‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏¢‡∏õ‡πà‡∏≤‡∏ô‡∏¢‡∏≤‡∏ß‡πÅ‡∏ï‡πà‡∏Å‡πá‡πÄ‡∏à‡πá‡∏ö‡∏ï‡∏±‡∏ß</p>
                    </div>
                    <div class="border-l-4 border-green-500 pl-4">
                        <strong class="text-green-400 text-lg">Zone B (The Safe Haven) - ‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï:</strong>
                        <p>‡∏¢‡πà‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢ "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô" (Real Demand) ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏¢‡πà‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‡∏Ñ‡∏ô‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£/‡∏£‡∏û.</p>
                    </div>
                    <div class="border-l-4 border-yellow-400 pl-4">
                        <strong class="text-yellow-400 text-lg">üèÜ The Winner: Type X (Hidden Gem)</strong>
                        <p>‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏ñ‡∏∂‡∏á‡∏Å‡∏≥‡πÑ‡∏£? ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå <b>"Flight to Safety"</b> ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î‡∏´‡∏£‡∏π Zone A ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß ‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡πÄ‡∏ä‡πà‡∏≤/‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å‡πÉ‡∏ô Zone B ‡πÅ‡∏ó‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Demand ‡∏û‡∏∏‡πà‡∏á‡∏™‡∏ß‡∏ô‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏Å‡∏§‡∏ï!</p>
                    </div>
                </div>
                <button onclick="location.reload()" class="mt-8 w-full bg-white text-black font-bold py-3 rounded hover:bg-gray-200">Play Again</button>
            </div>
        </section>

    </main>

    <script>
        // --- DATA & LOGIC ---
        const gameState = {
            age: 0,
            salary: 0,
            cash: 0,
            portfolio: []
        };

        const assetsDB = {
            'A': {
                '1': { name: 'A1: Entry Mass', price: 2.5, type: 'Mass', stress: -80, status: 'BANKRUPT ‚ò†Ô∏è', note: 'Vacancy 100%, Bank Seized' },
                '2': { name: 'A2: Standard', price: 4.5, type: 'Standard', stress: -40, status: 'CRITICAL ü©∏', note: 'Negative Equity' },
                '3': { name: 'A3: Luxury Prime', price: 12.0, type: 'Luxury', stress: -10, status: 'SURVIVED üõ°Ô∏è', note: 'Price dipped, Owner holds' }
            },
            'B': {
                '1': { name: 'B1: Budget', price: 2.0, type: 'Mass', stress: -5, status: 'SAFE ‚úÖ', note: 'Stable Tenants' },
                '2': { name: 'B2: Family', price: 5.0, type: 'Standard', stress: 0, status: 'SAFE ‚úÖ', note: 'Real Demand holds' },
                'X': { name: 'BX: Hidden Gem', price: 3.5, type: 'Special', stress: +25, status: 'OUTPERFORM üöÄ', note: 'High Demand from downgraders' }
            },
            'C': {
                '1': { name: 'C1: Vintage', price: 3.0, type: 'Old', stress: -15, status: 'STAGNANT üìâ', note: 'Slow market' },
                '2': { name: 'C2: River', price: 6.5, type: 'Niche', stress: -20, status: 'RISKY ‚ö†Ô∏è', note: 'Luxury demand dry' }
            },
            'D': {
                '1': { name: 'D1: Worker', price: 1.2, type: 'Ind', stress: -30, status: 'BAD ‚ö†Ô∏è', note: 'Factory shutdowns' }
            }
        };

        // --- FUNCTIONS ---

        function submitPart1() {
            gameState.age = document.getElementById('input-age').value;
            gameState.salary = parseInt(document.getElementById('input-salary').value);
            
            // Calculate starting cash (Salary * 12 months * 3 years savings approx)
            gameState.cash = (gameState.salary * 12 * 2); 
            
            updateUI();
            document.getElementById('part-1').classList.add('hidden');
            document.getElementById('part-2').classList.remove('hidden');
        }

        function updateUI() {
            document.getElementById('ui-age').innerText = gameState.age;
            document.getElementById('ui-salary').innerText = gameState.salary.toLocaleString();
            document.getElementById('ui-cash').innerText = gameState.cash.toLocaleString() + ' THB';
        }

        function buyAsset(zone, id) {
            const item = assetsDB[zone][id];
            const priceTHB = item.price * 1000000;
            const downPayment = priceTHB * 0.15; // 15% Down

            if (gameState.cash < downPayment) {
                alert("‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏à‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏ß‡∏ô‡πå!");
                return;
            }

            gameState.cash -= downPayment;
            gameState.portfolio.push({ zone, id, ...item, downPayment });
            
            updateUI();
            renderPortfolio();

            // Show Stress Test Button
            document.getElementById('btn-stress-test').classList.remove('hidden');
            document.getElementById('msg-buy-more').classList.add('hidden');
        }

        function renderPortfolio() {
            const list = document.getElementById('portfolio-list');
            list.innerHTML = '';
            gameState.portfolio.forEach((p, index) => {
                list.innerHTML += `
                    <div class="flex justify-between items-center bg-white p-2 rounded border">
                        <span class="font-bold">${p.name}</span>
                        <span class="text-xs text-gray-500">Down: ${(p.downPayment/1000000).toFixed(2)}M</span>
                    </div>
                `;
            });
        }

        function startStressTest() {
            if(!confirm("‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏Ç‡∏±‡πâ‡∏ô‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á (Black Swan Event) ‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ 0 ‡∏ö‡∏≤‡∏ó... ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô?")) return;

            // Trigger UI Changes
            document.body.classList.add('crisis-mode');
            document.getElementById('part-2').classList.add('hidden');
            document.getElementById('part-3').classList.remove('hidden');

            // Calculate Results
            const container = document.getElementById('stress-results');
            container.innerHTML = '';

            gameState.portfolio.forEach(asset => {
                const stressVal = asset.stress; // e.g. -80, +20
                let colorClass = '';
                let barColor = '';
                
                // Logic for Colors
                if (stressVal <= -50) { colorClass = 'border-red-600 bg-red-900/20'; barColor='bg-red-600'; }
                else if (stressVal < 0) { colorClass = 'border-orange-500 bg-orange-900/20'; barColor='bg-orange-500'; }
                else if (stressVal === 0) { colorClass = 'border-gray-500 bg-gray-800'; barColor='bg-gray-500'; }
                else { colorClass = 'border-green-500 bg-green-900/20'; barColor='bg-green-500'; }

                // Determine final outcome
                const initialPrice = asset.price * 1000000;
                const finalPrice = initialPrice * (1 + (stressVal/100));
                const profitLoss = finalPrice - initialPrice;
                const plSign = profitLoss >= 0 ? '+' : '';

                const html = `
                    <div class="card p-6 rounded-xl border-l-8 shadow-2xl relative overflow-hidden ${colorClass}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-2xl font-bold">${asset.name}</h3>
                                <p class="text-sm opacity-75">Zone ${asset.zone} | Type ${asset.type}</p>
                            </div>
                            <div class="text-right">
                                <span class="text-xl font-black px-3 py-1 rounded bg-black/50 border border-white/20">${asset.status}</span>
                            </div>
                        </div>

                        <div class="mb-4">
                            <div class="flex justify-between text-xs mb-1">
                                <span>Valuation Change</span>
                                <span class="font-mono font-bold">${plSign}${stressVal}%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-4 relative">
                                <div class="${barColor} h-4 rounded-full transition-all duration-1000" style="width: ${Math.abs(stressVal)}%; margin-left: ${stressVal < 0 ? 0 : 0}"></div> 
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4 text-sm font-mono mt-4 border-t border-gray-600 pt-4">
                            <div>
                                <span class="block text-gray-400 text-xs">Pre-Crisis Value</span>
                                <span class="text-lg">${asset.price.toFixed(1)} MB</span>
                            </div>
                            <div class="text-right">
                                <span class="block text-gray-400 text-xs">Post-Crisis Value</span>
                                <span class="text-lg font-bold ${stressVal < 0 ? 'text-red-400' : 'text-green-400'}">${(finalPrice/1000000).toFixed(2)} MB</span>
                            </div>
                        </div>

                        <div class="mt-4 bg-black/30 p-3 rounded text-sm italic">
                            "üìù ${asset.note}"
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });
        }
    </script>
</body>
</html>
